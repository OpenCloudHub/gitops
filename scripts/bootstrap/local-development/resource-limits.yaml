# scripts/bootstrap/local-development/resource-limits.yaml
# Resource limits configuration for KIND clusters
# Adjust these values based on your hardware capabilities

# Resource allocation strategies
allocation_strategies:
  # Single node cluster - one node gets most resources
  single_node:
    default:
      cpu: "8"
      memory: "24g"
      description: "Single node gets generous allocation"

  # Multi-node cluster - specialized per node type
  multi_node:
    control-plane:
      cpu: "2"
      memory: "4g"
      description: "Control plane - management only"

    storage:
      cpu: "3"
      memory: "6g"
      description: "Storage node - database workloads"

    observability:
      cpu: "4"
      memory: "6g"
      description: "Observability - metrics processing"

    application:
      cpu: "3"
      memory: "6g"
      description: "Application - inference serving"

    gpu-training:
      cpu: "6"
      memory: "12g"
      description: "GPU training - model preprocessing"

# Node type detection patterns
node_detection:
  # Patterns to identify node types from container names or kubectl labels
  patterns:
    control-plane:
      - "control-plane"
    storage:
      - "node.opencloudhub.org/type=storage"
    observability:
      - "node.opencloudhub.org/type=observability"
    application:
      - "node.opencloudhub.org/type=application"
    gpu-training:
      - "node.opencloudhub.org/type=gpu-training"

  # Fallback strategy when node type cannot be determined
  fallback:
    cpu: "2"
    memory: "6g"
    description: "Default fallback allocation"
